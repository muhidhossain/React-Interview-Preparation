## Theming and Dark Mode

### Theming in React

**What it is:**
A theme is a centralized set of design values (colors, fonts, spacing, etc.) that ensures consistency across an application.

Instead of hardcoding styles in components, you define them in a theme object and apply them globally.

**Common ways to implement theming:**

#### CSS Variables (Preferred for performance)

- Define theme variables in `:root` or `[data-theme="dark"]`
- Toggle them with JavaScript or React state

```css
:root {
  --bg-color: white;
  --text-color: black;
}
[data-theme='dark'] {
  --bg-color: #121212;
  --text-color: white;
}
```

```jsx
function App() {
  const [theme, setTheme] = useState('light');
  return (
    <div data-theme={theme}>
      <button onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')}>
        Toggle Theme
      </button>
    </div>
  );
}
```

#### React Context API (good for runtime theming)

```jsx
const ThemeContext = createContext();

function ThemeProvider({ children }) {
  const [theme, setTheme] = useState('light');
  const toggleTheme = () =>
    setTheme((prev) => (prev === 'light' ? 'dark' : 'light'));
  return (
    <ThemeContext.Provider value={{ theme, toggleTheme }}>
      {children}
    </ThemeContext.Provider>
  );
}
```

#### With UI Libraries (Styled Components, Emotion, Material UI, Chakra UI, etc.)

```jsx
import { ThemeProvider } from 'styled-components';

const theme = {
  colors: { primary: 'blue', background: 'white' },
};

<ThemeProvider theme={theme}>
  <App />
</ThemeProvider>;
```

**Interview Soundbite:**

> "Theming centralizes design tokens, making it easy to apply consistent styling and switch between styles dynamically, like for dark mode or different brand themes."

---

### Dark Mode

**What it is:**
A UI color scheme where the background is dark and text/icons are light — reducing eye strain in low-light environments.

**Implementation approaches:**

#### a) CSS Class or Attribute Toggle

```css
:root {
  --bg: white;
  --text: black;
}
.dark {
  --bg: #121212;
  --text: white;
}
```

```jsx
function App() {
  const [dark, setDark] = useState(false);
  return (
    <div className={dark ? 'dark' : ''}>
      <button onClick={() => setDark(!dark)}>Toggle Dark Mode</button>
    </div>
  );
}
```

#### b) Using prefers-color-scheme (OS-level dark mode detection)

```css
@media (prefers-color-scheme: dark) {
  :root {
    --bg: #121212;
    --text: white;
  }
}
```

```jsx
useEffect(() => {
  if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
    setDark(true);
  }
}, []);
```

#### c) Persisting User Preference

Store in localStorage or cookies so the theme stays after refresh.

```jsx
useEffect(() => {
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme) setTheme(savedTheme);
}, []);
```

---

### Quick Interview Comparison Table

| Feature        | Theming                                | Dark Mode                              |
| -------------- | -------------------------------------- | -------------------------------------- |
| Purpose        | Centralize and reuse style variables   | Specific theme variation for low light |
| Scope          | Can be multiple styles (brand, layout) | Usually toggles between 2 modes        |
| Implementation | CSS vars, Context API, UI libraries    | CSS vars, media query, Context         |
| Example Use    | Switch between brand color sets        | Light ↔ Dark background toggle         |

**Common Interview Questions**

- **How would you implement dark mode that respects system settings?**
  → Use `prefers-color-scheme` and allow manual override stored in localStorage.

- **What’s the difference between theming and dark mode?**
  → Theming is broader (multiple styles), dark mode is a specific theme variation.

- **How would you optimize for performance when switching themes?**
  → Use CSS variables and class toggling instead of rerendering the whole component tree.
