## Virtualization (react-window, react-virtualized)

### What is Virtualization in React?

Virtualization (or windowing) is a rendering technique where you only render the visible portion of a large list/grid to the DOM — instead of rendering all items at once.

This reduces DOM nodes, memory usage, and rendering time.

When the user scrolls, items just outside the visible area are dynamically added, and items that move out of view are removed.

---

### Why is it needed?

Imagine you have 10,000 list items.

Rendering all of them at once → slow performance, huge memory usage, janky scrolling.

With virtualization, maybe only ~20–50 are in the DOM at a time → smooth scrolling, faster load.

---

### Popular Libraries

- **react-window** → lightweight, modern, easy to use for lists and grids.
- **react-virtualized** → older, feature-rich, supports tables, infinite scrolling, dynamic heights.

---

### Example with react-window

**Install:**

```bash
npm install react-window
```

**Code:**

```jsx
import React from 'react';
import { FixedSizeList as List } from 'react-window';

const MyList = () => {
  const items = Array.from({ length: 10000 }, (_, i) => `Item ${i + 1}`);

  return (
    <List
      height={400} // visible height in pixels
      itemCount={items.length} // total items
      itemSize={35} // each row height in pixels
      width={300} // list width
    >
      {({ index, style }) => <div style={style}>{items[index]}</div>}
    </List>
  );
};

export default MyList;
```

**How it works:**

Only the items visible in the 400px height (plus a small buffer) are actually rendered.
As you scroll, the library recycles DOM nodes for performance.

---

### Example with react-virtualized

**Install:**

```bash
npm install react-virtualized
```

**Code:**

```jsx
import React from 'react';
import { List } from 'react-virtualized';
import 'react-virtualized/styles.css'; // optional default styles

const MyVirtualizedList = () => {
  const items = Array.from({ length: 10000 }, (_, i) => `Row ${i + 1}`);

  const rowRenderer = ({ key, index, style }) => (
    <div key={key} style={style}>
      {items[index]}
    </div>
  );

  return (
    <List
      width={300}
      height={400}
      rowCount={items.length}
      rowHeight={35}
      rowRenderer={rowRenderer}
    />
  );
};

export default MyVirtualizedList;
```

---

### react-window vs react-virtualized

| Feature     | react-window                          | react-virtualized                             |
| ----------- | ------------------------------------- | --------------------------------------------- |
| Performance | ✅ Faster, smaller bundle             | ❌ Slightly heavier                           |
| Features    | ❌ Basic lists/grids only             | ✅ Tables, infinite scrolling, cell measurers |
| Ease of use | ✅ Simple API                         | ❌ More complex                               |
| When to use | Lists/Grids where performance matters | Complex layouts needing more features         |

---

### Real-world example:

- Chat apps (render only messages in view)
- E-commerce product lists
- File explorers
- Large data tables
