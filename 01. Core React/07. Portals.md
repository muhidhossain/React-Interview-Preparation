# Portals

In React, Portals are a way to render a child component into a different part of the DOM than its parent component's hierarchy.

Think of it like this:

- Normally, React components are rendered inside their parent's DOM node.
- With a portal, you can "teleport" a component's output somewhere else in the DOM—without breaking the React component tree.

## Why Use Portals?

- **Modals / Popups**: So, they're not affected by parent styles like `overflow: hidden` or z-index issues.
- **Tooltips & Dropdowns**: Render them outside of deeply nested components to avoid clipping.
- **Floating UI Elements**: Keep them visually above everything else.

## Syntax

React provides the `ReactDOM.createPortal` method:

```javascript
ReactDOM.createPortal(child, container);
```

- **child** → The JSX element(s) you want to render.
- **container** → The DOM node where you want to render it.

## Example: Modal with Portals

### HTML (index.html)

```html
<body>
  <div id="root"></div>
  <div id="modal-root"></div>
</body>
```

### React Code

```javascript
import React from 'react';
import ReactDOM from 'react-dom';

function Modal({ children }) {
  const modalRoot = document.getElementById('modal-root');
  return ReactDOM.createPortal(
    <div style={styles.overlay}>
      <div style={styles.content}>{children}</div>
    </div>,
    modalRoot
  );
}

export default function App() {
  const [open, setOpen] = React.useState(false);

  return (
    <div>
      <h1>React Portal Example</h1>
      <button onClick={() => setOpen(true)}>Open Modal</button>

      {open && (
        <Modal>
          <h2>This is a modal!</h2>
          <button onClick={() => setOpen(false)}>Close</button>
        </Modal>
      )}
    </div>
  );
}

const styles = {
  overlay: {
    position: 'fixed',
    top: 0,
    left: 0,
    right: 0,
    bottom: 0,
    backgroundColor: 'rgba(0,0,0,0.5)',
    display: 'flex',
    alignItems: 'center',
    justifyContent: 'center',
  },
  content: {
    background: 'white',
    padding: '20px',
    borderRadius: '8px',
  },
};
```

## How It Works

- Even though `<Modal>` is used inside `<App>`, its DOM output is rendered inside `#modal-root`.
- This keeps it visually separate from the rest of the app, avoiding style issues.
- The component hierarchy in React stays the same—so state, props, and context still work normally.

## Key Points to Remember

- Portals are great for breaking out of parent DOM boundaries without breaking React's tree.
- You must already have a DOM node in your HTML (e.g., `#modal-root`) to render into.
- Portals do not break event bubbling—events still propagate up through the React component tree.
