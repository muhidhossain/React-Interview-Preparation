## Zustand, Recoil, Jotai (Modern Lightweight Libraries)

### Zustand

**Definition:**
Zustand is a small, fast, and scalable state management library for React that uses hooks.

- No boilerplate (compared to Redux).
- State is stored outside React’s component tree (avoiding unnecessary re-renders).
- Mutations are direct (no reducers needed).

**Key points:**

- Uses a `create` function to define the store.
- You read and update state through custom hooks generated by Zustand.

**Example:**

```js
// store.js
import { create } from 'zustand';

const useCounterStore = create((set) => ({
  count: 0,
  increase: () => set((state) => ({ count: state.count + 1 })),
  decrease: () => set((state) => ({ count: state.count - 1 })),
}));

export default useCounterStore;
```

```js
// App.js
import React from 'react';
import useCounterStore from './store';

export default function App() {
  const { count, increase, decrease } = useCounterStore();
  return (
    <div>
      <h1>{count}</h1>
      <button onClick={increase}>+</button>
      <button onClick={decrease}>-</button>
    </div>
  );
}
```

**Why use Zustand?** For small-to-medium apps needing fast, minimal state management without Redux complexity.

---

### Recoil

**Definition:**
Recoil is a state management library by Facebook that works with React’s concurrent mode and allows shared state with fine-grained reactivity.

- State is broken into atoms (shared state) and selectors (derived state).
- Only components using the changed atom re-render.
- Supports async selectors for data fetching.

**Key points:**

- `atom` → writable shared state.
- `selector` → computed/derived state.

**Example:**

```js
// state.js
import { atom, selector } from 'recoil';

export const countState = atom({
  key: 'countState',
  default: 0,
});

export const doubleCountState = selector({
  key: 'doubleCountState',
  get: ({ get }) => get(countState) * 2,
});
```

```js
// App.js
import React from 'react';
import { RecoilRoot, useRecoilState, useRecoilValue } from 'recoil';
import { countState, doubleCountState } from './state';

function Counter() {
  const [count, setCount] = useRecoilState(countState);
  const doubleCount = useRecoilValue(doubleCountState);

  return (
    <div>
      <h1>
        {count} (double: {doubleCount})
      </h1>
      <button onClick={() => setCount(count + 1)}>+</button>
      <button onClick={() => setCount(count - 1)}>-</button>
    </div>
  );
}

export default function App() {
  return (
    <RecoilRoot>
      <Counter />
    </RecoilRoot>
  );
}
```

**Why use Recoil?** Great for apps needing fine-grained reactivity, async state handling, and complex derived state without prop drilling.

---

### Jotai

Jotai is a primitive and minimal state management library for React using hooks.

- State is stored in atoms (like Recoil), but they are just JavaScript values.
- No global store; you import atoms where needed.
- Very minimal API surface.

**Key points:**

- `atom` → stores a value.
- `useAtom` → read and update atom state.
- No need for providers (works without `<Provider>` for basic cases).

**Example:**

```js
// atoms.js
import { atom } from 'jotai';

export const countAtom = atom(0);
export const doubleCountAtom = atom((get) => get(countAtom) * 2);
```

```js
// App.js
import React from 'react';
import { useAtom } from 'jotai';
import { countAtom, doubleCountAtom } from './atoms';

export default function App() {
  const [count, setCount] = useAtom(countAtom);
  const [doubleCount] = useAtom(doubleCountAtom);

  return (
    <div>
      <h1>
        {count} (double: {doubleCount})
      </h1>
      <button onClick={() => setCount(count + 1)}>+</button>
      <button onClick={() => setCount(count - 1)}>-</button>
    </div>
  );
}
```

**Why use Jotai?** If you want the simplest possible state management with atomic updates and no complex setup.

---

### Quick Comparison Table

| Feature         | Zustand                   | Recoil                       | Jotai                  |
| --------------- | ------------------------- | ---------------------------- | ---------------------- |
| Boilerplate     | Minimal                   | Medium                       | Minimal                |
| Concepts        | Store with set/get        | Atoms + Selectors            | Atoms                  |
| Reactivity      | Whole store hook triggers | Fine-grained per atom        | Fine-grained per atom  |
| Async Support   | Manual                    | Built-in (selectors)         | Built-in (async atoms) |
| Provider Needed | No                        | Yes (RecoilRoot)             | No (unless advanced)   |
| Best For        | Small/medium apps         | Complex shared & async state | Minimal atomic state   |
